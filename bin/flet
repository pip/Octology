#!/usr/bin/perl
# K3TMFvLt:flet crE8d by PipStuart <Pip@CPAN.Org> to try d8c colring the FigLet OutPut && re-squishing sepR8 letters;
use strict;use warnings;use utf8;use v5.10;use Encode;my $d8VS='K3UM0ZsN';
use Octology::a8;my $ccou=0;my $bow8='RoYGCBMp';my $argz=join(' ',@ARGV);my $dflf=$argz; # maybe -t is better than -w$ENV{'COLUMNS'}?
use Octology::d8;my @lrjo;$dflf='cosmic' unless(length($dflf));my $nXtf=1;
my $fdir=$ENV{'HOME'} . '/lib/Octology/f8/f0nt/flet';my @flst=<"$fdir/*">;for(@flst){s{(^.*/|\.[ft]l[fc]$)}{}gi;s/^.+-[0-9A-Z._]{8}(\..*|$)//i;
  s/(^.*banner.*$)//;s/\s+/  /g;} # cosmic Colossal Fraktur
for my $FntF(reverse(@flst)){my $d8Nw=Octology::d8->new();$dflf=$FntF if($nXtf && length($FntF));
  open     my $out8,'>&',STDOUT or die "Can't open  duplic8 STDOUT handle: $!";binmode $out8,':encoding(UTF-8)';
  print       $out8 "FntF:$FntF:Nter cmnd-strng:";my $sinl=<STDIN>;last if(defined($sinl) && $sinl=~ /^-?-?[qx]$/i);
  close       $out8             or die "Can't close duplic8 STDOUT handle: $!";last if(/^-*[qx]$/i);if(/\w/){$dflf=$_;$dflf=~ s/(^\s+|\s+$)//g;} @lrjo=();
  for(split(//,"$d8Nw")){my @figc=split(/\n/,`figlet -d $fdir -f $dflf -tm0 $_`);my $Scod=S(substr($bow8,$ccou++,1));$ccou=0 if($ccou==8);
    if   ($argz=~ /(^|\s)-?-?d(\s|$)/i){ # take -d as not just f0ntDir but printing the f0nt listing from there;
      open my $out8,'>&',STDOUT or die "Can't open  duplic8 STDOUT handle: $!";binmode $out8,':encoding(UTF-8)';say $out8 "@flst";
      close   $out8             or die "Can't close duplic8 STDOUT handle: $!";}
    elsif($argz=~ /(^|\s)-?-?r(\s|$)/i){$nXtf^=1;}
    for my $fndx(0..$#figc){$lrjo[$fndx] ='' unless(defined(  $lrjo[$fndx]));
                            $lrjo[$fndx].=sprintf("$Scod%-8s",$figc[$fndx] );}}
  open        $out8,'>&',STDOUT or die "Can't open  duplic8 STDOUT handle: $!";binmode $out8,':encoding(UTF-8)';say $out8 "$_" for(@lrjo); # don't nEd my AgN
  print       $out8 "FntF:$FntF:Nter cmnd-strng:";
  close       $out8             or die "Can't close duplic8 STDOUT handle: $!";last if(/^-*[qx]$/i);if(/\w/){$dflf=$_;$dflf=~ s/(^\s+|\s+$)//g;} @lrjo=();}
