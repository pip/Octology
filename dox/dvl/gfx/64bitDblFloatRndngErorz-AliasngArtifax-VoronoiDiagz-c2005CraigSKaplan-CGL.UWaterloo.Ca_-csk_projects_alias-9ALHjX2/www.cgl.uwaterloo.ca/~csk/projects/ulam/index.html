<html>
<head>
	<title>Ulam spiral</title>
	<link rel="stylesheet" href="http://www.cgl.uwaterloo.ca/~csk/basic.css" type="text/css">
</head>
<body>
<h1>Ulam spiral</h1>

<p>
17 April 2009
</p>
<p>
In a recent conversation on an online mailing list, the topic arose
of drawing a graph showing how many divisors the positive integers have
(the graph would start off <a href="http://www.research.att.com/~njas/sequences/A000005">1, 2, 2, 3, 2, 4...</a>).  Some list members wanted to see the
data plotted in 3D.  Of course, a 1D dataset isn't that interesting when
displayed in 3D&mdash;it just becomes another example of <a href="http://en.wikipedia.org/wiki/Chartjunk">chartjunk</a>.
</p>
<p>
However, it's possible to create a 2D arrangement of the positive
integers by organizing them into a spiral.  The spiral arrangement is
particularly appropriate in the context of counting divisors; if you 
create a spiral arrangement of positive integers, and colour the primes
black and the composites white, you obtain what's called the
<a href="http://en.wikipedia.org/wiki/Ulam_spiral">Ulam spiral</a>, 
a design that turns out to have some surprising regularities given that
it's a depiction of the distribution of primes.
</p>
<p>
At the same time, I had seen some recent information about two new
open-source rendering tools: <a href="http://sunflow.sourceforge.net/">SunFlow</a> and <a href="http://www.luxrender.net/">Luxrender</a>.  (I had
heard of SunFlow before, but was reminded of it because of the image
on the cover of this month's <a href="http://mags.acm.org/communications/current">CACM</a>.)  I had been meaning to try them out, and this seemed like a
good opportunity.
</p>
<p>
In the image below, each box represents a positive integer.  The integers
are arranged in a spiral like Ulam's, but each is shown as a box whose
height is the number of divisors that integer has.  The boxes for the
numbers 1, 2 and 3 have red, green and blue spikes sticking out of them
(respectively) to orient you.  The whole thing is
rendered using SunFlow with sexy global illumination and diffuse
surfaces.
Click on it for a larger version.
</p>

<center>
	<a href="ulam.png"><img
		src="ulam_small.png" width=500 height=500
		border=0/></a>
</center>

<p>
The result is kind of cool architecturally, but it has the downside that
it's difficult to make out the embedded Ulam spiral (the set of blocks
of height 2).  In the second image, the height of the block representing
integer <em>N</em> is
chosen to be 2<sup>4-<em>d</em></sup>, where <em>d</em> is the number 
of divisors <em>N</em> has.  Thus the primes have height 4 (and are the
tallest blocks in the picture), and each additional divisor chops the
height of a block in half.  The deep pit adjacent to the blue box represents
the number 12.
</p>

<center>
	<a href="ulam_exp.png"><img
		src="ulam_exp_small.png" width=500 height=500
		border=0/></a>
</center>

<p>
The "white-on-white" look seems to be very popular these days.
The effect in this case is definitely a kind of math porn.

<hr>
	<table width="100%" border=0 cellpadding=0 cellspacing=0><tr>
		<td align=left><a href="http://www.cgl.uwaterloo.ca/~csk/">
			Craig S. Kaplan</a></td>
	<td align=right><em>Last updated: Friday, 17-Apr-2009 19:36:20 EDT</em>
	</td></tr></table>

</body>
</HTML>
